// Generated by IcedCoffeeScript 1.6.2d
(function() {
  var Attribute, Constants, Entity, Link, Neo, Response, StdSchema, Tag, Vote, getStartEndIndex, iced, __iced_k, __iced_k_noop, _und;

  iced = require('iced-coffee-script').iced;
  __iced_k = __iced_k_noop = function() {};

  require('source-map-support').install();

  _und = require('underscore');

  Neo = require('../models/neo');

  Entity = require('../models/entity');

  Attribute = require('../models/attribute');

  Tag = require('../models/tag');

  Vote = require('../models/vote');

  Link = require('../models/link');

  StdSchema = require('../models/stdSchema');

  Constants = StdSchema.Constants;

  Response = StdSchema;

  getStartEndIndex = function(start, rel, end) {
    return "" + start + "_" + rel + "_" + end;
  };

  exports.search = function(req, res, next) {
    return res.redirect("/search/?q=" + req.query['q']);
  };

  exports.create = function(req, res, next) {
    var blob, entity, err, errs, ind, tagName, tagObj, tagObjs, tags, ___iced_passed_deferral, __iced_deferrals, __iced_k, _ref,
      _this = this;
    __iced_k = __iced_k_noop;
    ___iced_passed_deferral = iced.findDeferral(arguments);
    errs = [];
    tagObjs = [];
    tags = (_ref = req.body['tags']) != null ? _ref : [];
    (function(__iced_k) {
      var _i, _len;
      __iced_deferrals = new iced.Deferrals(__iced_k, {
        parent: ___iced_passed_deferral,
        filename: "entity.coffee",
        funcname: "create"
      });
      for (ind = _i = 0, _len = tags.length; _i < _len; ind = ++_i) {
        tagName = tags[ind];
        Tag.getOrCreate(tagName, __iced_deferrals.defer({
          assign_fn: (function(__slot_1, __slot_2, __slot_3, __slot_4) {
            return function() {
              __slot_1[__slot_2] = arguments[0];
              return __slot_3[__slot_4] = arguments[1];
            };
          })(errs, ind, tagObjs, ind),
          lineno: 34
        }));
      }
      __iced_deferrals._fulfill();
    })(function() {
      err = _und.find(errs, function(err) {
        return err;
      });
      if (err) {
        return next(err);
      }
      (function(__iced_k) {
        __iced_deferrals = new iced.Deferrals(__iced_k, {
          parent: ___iced_passed_deferral,
          filename: "entity.coffee",
          funcname: "create"
        });
        Entity.create(req.body, __iced_deferrals.defer({
          assign_fn: (function() {
            return function() {
              err = arguments[0];
              return entity = arguments[1];
            };
          })(),
          lineno: 39
        }));
        __iced_deferrals._fulfill();
      })(function() {
        var _i, _len;
        if (err) {
          return next(err);
        }
        for (ind = _i = 0, _len = tagObjs.length; _i < _len; ind = ++_i) {
          tagObj = tagObjs[ind];
          tagObj._node.createRelationshipTo(entity._node, Constants.REL_TAG, {}, function(err, rel) {});
        }
        (function(__iced_k) {
          __iced_deferrals = new iced.Deferrals(__iced_k, {
            parent: ___iced_passed_deferral,
            filename: "entity.coffee",
            funcname: "create"
          });
          entity.serialize(__iced_deferrals.defer({
            assign_fn: (function() {
              return function() {
                return blob = arguments[0];
              };
            })(),
            lineno: 48
          }));
          __iced_deferrals._fulfill();
        })(function() {
          return res.status(201).json(blob);
        });
      });
    });
  };

  exports.show = function(req, res, next) {
    var attrBlobs, entity, entityBlob, err, ind, node, nodes, ___iced_passed_deferral, __iced_deferrals, __iced_k,
      _this = this;
    __iced_k = __iced_k_noop;
    ___iced_passed_deferral = iced.findDeferral(arguments);
    if (isNaN(req.params.id)) {
      return res.json({});
    }
    (function(__iced_k) {
      __iced_deferrals = new iced.Deferrals(__iced_k, {
        parent: ___iced_passed_deferral,
        filename: "entity.coffee",
        funcname: "show"
      });
      Entity.get(req.params.id, __iced_deferrals.defer({
        assign_fn: (function() {
          return function() {
            err = arguments[0];
            return entity = arguments[1];
          };
        })(),
        lineno: 57
      }));
      __iced_deferrals._fulfill();
    })(function() {
      if (err) {
        return next(err);
      }
      attrBlobs = [];
      (function(__iced_k) {
        if (req.query['attr'] !== "false") {
          (function(__iced_k) {
            __iced_deferrals = new iced.Deferrals(__iced_k, {
              parent: ___iced_passed_deferral,
              filename: "entity.coffee",
              funcname: "show"
            });
            entity._node.getRelationshipNodes({
              type: Constants.REL_ATTRIBUTE,
              direction: 'in'
            }, __iced_deferrals.defer({
              assign_fn: (function() {
                return function() {
                  err = arguments[0];
                  return nodes = arguments[1];
                };
              })(),
              lineno: 65
            }));
            __iced_deferrals._fulfill();
          })(function() {
            (function(__iced_k) {
              var _i, _len;
              __iced_deferrals = new iced.Deferrals(__iced_k, {
                parent: ___iced_passed_deferral,
                filename: "entity.coffee",
                funcname: "show"
              });
              for (ind = _i = 0, _len = nodes.length; _i < _len; ind = ++_i) {
                node = nodes[ind];
                (new Attribute(node)).serialize(__iced_deferrals.defer({
                  assign_fn: (function(__slot_1, __slot_2) {
                    return function() {
                      return __slot_1[__slot_2] = arguments[0];
                    };
                  })(attrBlobs, ind),
                  lineno: 69
                }), entity._node.id);
              }
              __iced_deferrals._fulfill();
            })(function() {
              if (err) {
                return next(err);
              }
              (function(__iced_k) {
                __iced_deferrals = new iced.Deferrals(__iced_k, {
                  parent: ___iced_passed_deferral,
                  filename: "entity.coffee",
                  funcname: "show"
                });
                entity.serialize(__iced_deferrals.defer({
                  assign_fn: (function() {
                    return function() {
                      return entityBlob = arguments[0];
                    };
                  })(),
                  lineno: 72
                }), {
                  attributes: attrBlobs
                });
                __iced_deferrals._fulfill();
              })(__iced_k);
            });
          });
        } else {
          (function(__iced_k) {
            __iced_deferrals = new iced.Deferrals(__iced_k, {
              parent: ___iced_passed_deferral,
              filename: "entity.coffee",
              funcname: "show"
            });
            entity.serialize(__iced_deferrals.defer({
              assign_fn: (function() {
                return function() {
                  return entityBlob = arguments[0];
                };
              })(),
              lineno: 74
            }));
            __iced_deferrals._fulfill();
          })(__iced_k);
        }
      })(function() {
        return res.json(entityBlob);
      });
    });
  };

  exports.edit = function(req, res, next) {
    var blob, entity, err, ___iced_passed_deferral, __iced_deferrals, __iced_k,
      _this = this;
    __iced_k = __iced_k_noop;
    ___iced_passed_deferral = iced.findDeferral(arguments);
    (function(__iced_k) {
      __iced_deferrals = new iced.Deferrals(__iced_k, {
        parent: ___iced_passed_deferral,
        filename: "entity.coffee",
        funcname: "edit"
      });
      Entity.put(req.params.id, req.body, __iced_deferrals.defer({
        assign_fn: (function() {
          return function() {
            err = arguments[0];
            return entity = arguments[1];
          };
        })(),
        lineno: 80
      }));
      __iced_deferrals._fulfill();
    })(function() {
      if (err) {
        return next(err);
      }
      (function(__iced_k) {
        __iced_deferrals = new iced.Deferrals(__iced_k, {
          parent: ___iced_passed_deferral,
          filename: "entity.coffee",
          funcname: "edit"
        });
        entity.serialize(__iced_deferrals.defer({
          assign_fn: (function() {
            return function() {
              return blob = arguments[0];
            };
          })(),
          lineno: 83
        }));
        __iced_deferrals._fulfill();
      })(function() {
        return res.json(blob);
      });
    });
  };

  exports.del = function(req, res, next) {
    var entity, err, ___iced_passed_deferral, __iced_deferrals, __iced_k,
      _this = this;
    __iced_k = __iced_k_noop;
    ___iced_passed_deferral = iced.findDeferral(arguments);
    (function(__iced_k) {
      __iced_deferrals = new iced.Deferrals(__iced_k, {
        parent: ___iced_passed_deferral,
        filename: "entity.coffee",
        funcname: "del"
      });
      Entity.get(req.params.id, __iced_deferrals.defer({
        assign_fn: (function() {
          return function() {
            err = arguments[0];
            return entity = arguments[1];
          };
        })(),
        lineno: 88
      }));
      __iced_deferrals._fulfill();
    })(function() {
      if (err) {
        return next(err);
      }
      (function(__iced_k) {
        __iced_deferrals = new iced.Deferrals(__iced_k, {
          parent: ___iced_passed_deferral,
          filename: "entity.coffee",
          funcname: "del"
        });
        entity.del(__iced_deferrals.defer({
          assign_fn: (function() {
            return function() {
              return err = arguments[0];
            };
          })(),
          lineno: 91
        }));
        __iced_deferrals._fulfill();
      })(function() {
        if (err) {
          return next(err);
        }
        return res.status(204).send();
      });
    });
  };

  exports.addAttribute = function(req, res, next) {
    var attr, blob, entity, err, errA, errE, linkData, rel, ___iced_passed_deferral, __iced_deferrals, __iced_k,
      _this = this;
    __iced_k = __iced_k_noop;
    ___iced_passed_deferral = iced.findDeferral(arguments);
    (function(__iced_k) {
      __iced_deferrals = new iced.Deferrals(__iced_k, {
        parent: ___iced_passed_deferral,
        filename: "entity.coffee",
        funcname: "addAttribute"
      });
      Entity.get(req.params.id, __iced_deferrals.defer({
        assign_fn: (function() {
          return function() {
            errE = arguments[0];
            return entity = arguments[1];
          };
        })(),
        lineno: 100
      }));
      Attribute.getOrCreate(req.body, __iced_deferrals.defer({
        assign_fn: (function() {
          return function() {
            errA = arguments[0];
            return attr = arguments[1];
          };
        })(),
        lineno: 101
      }));
      __iced_deferrals._fulfill();
    })(function() {
      if (errE) {
        return next(errE);
      }
      if (errA) {
        return next(errA);
      }
      linkData = _und.clone(req.body['linkData'] || {});
      linkData['startend'] = getStartEndIndex(attr._node.id, Constants.REL_ATTRIBUTE, entity._node.id);
      (function(__iced_k) {
        __iced_deferrals = new iced.Deferrals(__iced_k, {
          parent: ___iced_passed_deferral,
          filename: "entity.coffee",
          funcname: "addAttribute"
        });
        attr._node.createRelationshipTo(entity._node, Constants.REL_ATTRIBUTE, linkData, __iced_deferrals.defer({
          assign_fn: (function() {
            return function() {
              err = arguments[0];
              return rel = arguments[1];
            };
          })(),
          lineno: 116
        }));
        __iced_deferrals._fulfill();
      })(function() {
        if (err) {
          return next(err);
        }
        Link.index(rel, linkData);
        (function(__iced_k) {
          __iced_deferrals = new iced.Deferrals(__iced_k, {
            parent: ___iced_passed_deferral,
            filename: "entity.coffee",
            funcname: "addAttribute"
          });
          attr.serialize(__iced_deferrals.defer({
            assign_fn: (function() {
              return function() {
                return blob = arguments[0];
              };
            })(),
            lineno: 122
          }));
          __iced_deferrals._fulfill();
        })(function() {
          _und.extend(blob, linkData);
          return res.status(201).json(blob);
        });
      });
    });
  };

  exports.delAttribute = function(req, res, next) {
    var attr, entity, errA, errE, ___iced_passed_deferral, __iced_deferrals, __iced_k,
      _this = this;
    __iced_k = __iced_k_noop;
    ___iced_passed_deferral = iced.findDeferral(arguments);
    (function(__iced_k) {
      __iced_deferrals = new iced.Deferrals(__iced_k, {
        parent: ___iced_passed_deferral,
        filename: "entity.coffee",
        funcname: "delAttribute"
      });
      Entity.get(req.params.eId, __iced_deferrals.defer({
        assign_fn: (function() {
          return function() {
            errE = arguments[0];
            return entity = arguments[1];
          };
        })(),
        lineno: 129
      }));
      __iced_deferrals._fulfill();
    })(function() {
      __iced_deferrals = new iced.Deferrals(__iced_k, {
        parent: ___iced_passed_deferral,
        filename: "entity.coffee",
        funcname: "delAttribute"
      });
      Attribute.get(req.params.aId, __iced_deferrals.defer({
        assign_fn: (function() {
          return function() {
            errA = arguments[0];
            return attr = arguments[1];
          };
        })(),
        lineno: 130
      }));
      __iced_deferrals._fulfill();
    });
  };

  exports.listAttribute = function(req, res, next) {
    var blob, blobs, entity, err, errE, ind, node, nodes, ___iced_passed_deferral, __iced_deferrals, __iced_k,
      _this = this;
    __iced_k = __iced_k_noop;
    ___iced_passed_deferral = iced.findDeferral(arguments);
    (function(__iced_k) {
      __iced_deferrals = new iced.Deferrals(__iced_k, {
        parent: ___iced_passed_deferral,
        filename: "entity.coffee",
        funcname: "listAttribute"
      });
      Entity.get(req.params.id, __iced_deferrals.defer({
        assign_fn: (function() {
          return function() {
            errE = arguments[0];
            return entity = arguments[1];
          };
        })(),
        lineno: 134
      }));
      __iced_deferrals._fulfill();
    })(function() {
      (function(__iced_k) {
        __iced_deferrals = new iced.Deferrals(__iced_k, {
          parent: ___iced_passed_deferral,
          filename: "entity.coffee",
          funcname: "listAttribute"
        });
        entity._node.getRelationshipNodes({
          type: Constants.REL_ATTRIBUTE,
          direction: 'in'
        }, __iced_deferrals.defer({
          assign_fn: (function() {
            return function() {
              err = arguments[0];
              return nodes = arguments[1];
            };
          })(),
          lineno: 137
        }));
        __iced_deferrals._fulfill();
      })(function() {
        blobs = [];
        (function(__iced_k) {
          var _i, _len;
          __iced_deferrals = new iced.Deferrals(__iced_k, {
            parent: ___iced_passed_deferral,
            filename: "entity.coffee",
            funcname: "listAttribute"
          });
          for (ind = _i = 0, _len = nodes.length; _i < _len; ind = ++_i) {
            node = nodes[ind];
            (new Attribute(node)).serialize(__iced_deferrals.defer({
              assign_fn: (function(__slot_1, __slot_2) {
                return function() {
                  return __slot_1[__slot_2] = arguments[0];
                };
              })(blobs, ind),
              lineno: 142
            }), entity._node.id);
          }
          __iced_deferrals._fulfill();
        })(function() {
          return res.json((function() {
            var _i, _len, _results;
            _results = [];
            for (_i = 0, _len = blobs.length; _i < _len; _i++) {
              blob = blobs[_i];
              _results.push(blob);
            }
            return _results;
          })());
        });
      });
    });
  };

  exports.getAttribute = function(req, res, next) {
    var attr, attrId, blob, entityId, err, errAttr, errLink, rel, relData, startendVal, ___iced_passed_deferral, __iced_deferrals, __iced_k,
      _this = this;
    __iced_k = __iced_k_noop;
    ___iced_passed_deferral = iced.findDeferral(arguments);
    attrId = req.params.aId;
    entityId = req.params.eId;
    startendVal = getStartEndIndex(attrId, Constants.REL_ATTRIBUTE, entityId);
    (function(__iced_k) {
      __iced_deferrals = new iced.Deferrals(__iced_k, {
        parent: ___iced_passed_deferral,
        filename: "entity.coffee",
        funcname: "getAttribute"
      });
      Link.find('startend', startendVal, __iced_deferrals.defer({
        assign_fn: (function() {
          return function() {
            errLink = arguments[0];
            return rel = arguments[1];
          };
        })(),
        lineno: 157
      }));
      Attribute.get(attrId, __iced_deferrals.defer({
        assign_fn: (function() {
          return function() {
            errAttr = arguments[0];
            return attr = arguments[1];
          };
        })(),
        lineno: 158
      }));
      __iced_deferrals._fulfill();
    })(function() {
      err = errLink || errAttr;
      if (err) {
        return next(err);
      }
      blob = {};
      (function(__iced_k) {
        __iced_deferrals = new iced.Deferrals(__iced_k, {
          parent: ___iced_passed_deferral,
          filename: "entity.coffee",
          funcname: "getAttribute"
        });
        attr.serialize(__iced_deferrals.defer({
          assign_fn: (function() {
            return function() {
              return blob = arguments[0];
            };
          })(),
          lineno: 164
        }), entityId);
        __iced_deferrals._fulfill();
      })(function() {
        relData = rel.serialize();
        delete relData['id'];
        _und.extend(blob, relData);
        return res.json(blob);
      });
    });
  };

  exports.updateAttributeLink = function(req, res, next) {
    var attrId, entityId, err, errLink, linkData, rel, startendVal, ___iced_passed_deferral, __iced_deferrals, __iced_k,
      _this = this;
    __iced_k = __iced_k_noop;
    ___iced_passed_deferral = iced.findDeferral(arguments);
    attrId = req.params.aId;
    entityId = req.params.eId;
    linkData = _und.clone(req.body['linkData'] || {});
    startendVal = getStartEndIndex(attrId, Constants.REL_ATTRIBUTE, entityId);
    (function(__iced_k) {
      __iced_deferrals = new iced.Deferrals(__iced_k, {
        parent: ___iced_passed_deferral,
        filename: "entity.coffee",
        funcname: "updateAttributeLink"
      });
      Link.find('startend', startendVal, __iced_deferrals.defer({
        assign_fn: (function() {
          return function() {
            errLink = arguments[0];
            return rel = arguments[1];
          };
        })(),
        lineno: 186
      }));
      __iced_deferrals._fulfill();
    })(function() {
      err = errLink;
      if (err) {
        return next(err);
      }
      rel.update(linkData);
      (function(__iced_k) {
        __iced_deferrals = new iced.Deferrals(__iced_k, {
          parent: ___iced_passed_deferral,
          filename: "entity.coffee",
          funcname: "updateAttributeLink"
        });
        rel.save(__iced_deferrals.defer({
          assign_fn: (function() {
            return function() {
              return err = arguments[0];
            };
          })(),
          lineno: 192
        }));
        __iced_deferrals._fulfill();
      })(function() {
        return res.json(rel.serialize());
      });
    });
  };

  exports.voteAttribute = function(req, res, next) {
    var attr, entity, errA, errE, vote, voteData, ___iced_passed_deferral, __iced_deferrals, __iced_k,
      _this = this;
    __iced_k = __iced_k_noop;
    ___iced_passed_deferral = iced.findDeferral(arguments);
    (function(__iced_k) {
      __iced_deferrals = new iced.Deferrals(__iced_k, {
        parent: ___iced_passed_deferral,
        filename: "entity.coffee",
        funcname: "voteAttribute"
      });
      Entity.get(req.params.eId, __iced_deferrals.defer({
        assign_fn: (function() {
          return function() {
            errE = arguments[0];
            return entity = arguments[1];
          };
        })(),
        lineno: 199
      }));
      Attribute.get(req.params.aId, __iced_deferrals.defer({
        assign_fn: (function() {
          return function() {
            errA = arguments[0];
            return attr = arguments[1];
          };
        })(),
        lineno: 200
      }));
      __iced_deferrals._fulfill();
    })(function() {
      if (errE) {
        console.log("errE");
        return next(errE);
      }
      if (errA) {
        console.log("errA");
        return next(errA);
      }
      voteData = _und.clone(req.body);
      voteData.ipAddr = req.header['x-forwarded-for'] || req.connection.remoteAddress;
      voteData.browser = req.useragent.Browser;
      voteData.os = req.useragent.OS;
      voteData.lang = req.headers['accept-language'];
      vote = new Vote(voteData);
      return entity.vote(attr, vote, function(err, voteTally) {
        if (err) {
          return res.status(500);
        }
        return res.send(voteTally);
      });
    });
  };

  exports.listRelation = function(req, res, next) {
    var blob, blobs, entity, err, extraData, ind, rel, relType, rels, ___iced_passed_deferral, __iced_deferrals, __iced_k,
      _this = this;
    __iced_k = __iced_k_noop;
    ___iced_passed_deferral = iced.findDeferral(arguments);
    (function(__iced_k) {
      __iced_deferrals = new iced.Deferrals(__iced_k, {
        parent: ___iced_passed_deferral,
        filename: "entity.coffee",
        funcname: "listRelation"
      });
      Entity.get(req.params.id, __iced_deferrals.defer({
        assign_fn: (function() {
          return function() {
            err = arguments[0];
            return entity = arguments[1];
          };
        })(),
        lineno: 223
      }));
      __iced_deferrals._fulfill();
    })(function() {
      var _ref;
      if (err) {
        return next(err);
      }
      relType = (_ref = req.params.relation) != null ? _ref : '';
      (function(__iced_k) {
        __iced_deferrals = new iced.Deferrals(__iced_k, {
          parent: ___iced_passed_deferral,
          filename: "entity.coffee",
          funcname: "listRelation"
        });
        entity._node.outgoing(relType, __iced_deferrals.defer({
          assign_fn: (function() {
            return function() {
              err = arguments[0];
              return rels = arguments[1];
            };
          })(),
          lineno: 229
        }));
        __iced_deferrals._fulfill();
      })(function() {
        blobs = [];
        (function(__iced_k) {
          var _i, _len;
          __iced_deferrals = new iced.Deferrals(__iced_k, {
            parent: ___iced_passed_deferral,
            filename: "entity.coffee",
            funcname: "listRelation"
          });
          for (ind = _i = 0, _len = rels.length; _i < _len; ind = ++_i) {
            rel = rels[ind];
            extraData = {
              type: rel.type,
              start: rel.start.id,
              end: rel.end.id
            };
            (new Neo(rel)).serialize(__iced_deferrals.defer({
              assign_fn: (function(__slot_1, __slot_2) {
                return function() {
                  return __slot_1[__slot_2] = arguments[0];
                };
              })(blobs, ind),
              lineno: 240
            }), extraData);
          }
          __iced_deferrals._fulfill();
        })(function() {
          return res.json((function() {
            var _i, _len, _results;
            _results = [];
            for (_i = 0, _len = blobs.length; _i < _len; _i++) {
              blob = blobs[_i];
              _results.push(blob);
            }
            return _results;
          })());
        });
      });
    });
  };

  exports.linkEntity = function(req, res, next) {
    var dstEntity, dst_srcRel, errDst, errSrc, es, et, linkData, linkName, relation, srcEntity, src_dstRel, ___iced_passed_deferral, __iced_deferrals, __iced_k,
      _this = this;
    __iced_k = __iced_k_noop;
    ___iced_passed_deferral = iced.findDeferral(arguments);
    (function(__iced_k) {
      __iced_deferrals = new iced.Deferrals(__iced_k, {
        parent: ___iced_passed_deferral,
        filename: "entity.coffee",
        funcname: "linkEntity"
      });
      Entity.get(req.params.srcId, __iced_deferrals.defer({
        assign_fn: (function() {
          return function() {
            errSrc = arguments[0];
            return srcEntity = arguments[1];
          };
        })(),
        lineno: 247
      }));
      Entity.get(req.params.dstId, __iced_deferrals.defer({
        assign_fn: (function() {
          return function() {
            errDst = arguments[0];
            return dstEntity = arguments[1];
          };
        })(),
        lineno: 248
      }));
      __iced_deferrals._fulfill();
    })(function() {
      if (errSrc) {
        return next(errSrc);
      }
      if (errDst) {
        return next(errDst);
      }
      relation = req.body;
      (function(__iced_k) {
        __iced_deferrals = new iced.Deferrals(__iced_k, {
          parent: ___iced_passed_deferral,
          filename: "entity.coffee",
          funcname: "linkEntity"
        });
        if (relation['src_dst']) {
          linkName = Link.normalizeName(relation['src_dst']['name']);
          linkData = Link.cleanData(relation['src_dst']['data']);
          console.log(link);
          srcEntity._node.createRelationshipTo(dstEntity._node, linkName, linkData, __iced_deferrals.defer({
            assign_fn: (function() {
              return function() {
                es = arguments[0];
                return src_dstRel = arguments[1];
              };
            })(),
            lineno: 264
          }));
        }
        if (relation['dst_src']) {
          linkName = Link.normalizeName(relation['dst_src']['name']);
          linkData = Link.cleanData(relation['dst_src']['data']);
          console.log(link);
          dstEntity._node.createRelationshipTo(srcEntity._node, linkName, linkData, __iced_deferrals.defer({
            assign_fn: (function() {
              return function() {
                et = arguments[0];
                return dst_srcRel = arguments[1];
              };
            })(),
            lineno: 274
          }));
        }
        __iced_deferrals._fulfill();
      })(function() {
        return res.status(201).send();
      });
    });
  };

  exports.unlinkEntity = function(req, res, next) {};

}).call(this);

/*
//@ sourceMappingURL=entity.map
*/
